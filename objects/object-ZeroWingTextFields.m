#import "HOTDOG.h"

static void destructiveColorize(unsigned char *cstr, unsigned char oldc, unsigned char newc, int from, int to)
{
    int newlinecount = 0;
    unsigned char *p = cstr;
    for(;;) {
        if (!*p) {
            break;
        }
        if (*p == '\n') {
            newlinecount++;
            if (newlinecount == to) {
                return;
            }
        } else {
            if (newlinecount >= from) {
                if (*p == oldc) {
                    *p = newc;
                }
            }
        }
        p++;
    }
}
static void destructiveColorizeButton(unsigned char *cstr)
{
    destructiveColorize(cstr, 'o', '1', 0, 10);
    destructiveColorize(cstr, 'o', '2', 10, 14);
    destructiveColorize(cstr, 'o', '3', 14, 99);
    destructiveColorize(cstr, '.', '4', 0, 10);
    destructiveColorize(cstr, '.', '5', 10, 14);
    destructiveColorize(cstr, '.', '6', 14, 99);
    destructiveColorize(cstr, 'b', '7', 0, 10);
    destructiveColorize(cstr, 'b', '8', 10, 14);
    destructiveColorize(cstr, 'b', '9', 14, 99);
}

static void destructiveColorizeFont(id font)
{
    id fontCStrings = [font nth:0];
    if (!fontCStrings) {
        return;
    }

    unsigned char **bytes = [fontCStrings bytes];
    for (int i=0; i<256; i++) {
        destructiveColorize(bytes[i], 'b', '1', 0, 2);
        destructiveColorize(bytes[i], 'b', '2', 2, 6);
        destructiveColorize(bytes[i], 'b', '3', 6, 99);
    }
}

static id _textPalette = 
@"1 #E8ECE8\n"
@"2 #C8CC88\n"
@"3 #888840\n"
;
static id _textBlackPalette = 
@"1 #000000\n"
@"2 #000000\n"
@"3 #000000\n"
;
static id _buttonDownPalette = 
@"1 #E8ECE8\n"
@"2 #C8CC88\n"
@"3 #888840\n"
@"4 #E8ECE8\n"
@"5 #C8CC88\n"
@"6 #888840\n"
;
static id _defaultButtonPalette = 
@"1 #E8ECE8\n"
@"2 #C8CC88\n"
@"3 #888840\n"
@"7 #E8ECE8\n"
@"8 #C8CC88\n"
@"9 #888840\n"
;
static id _defaultButtonDownPalette = 
@"1 #E8ECE8\n"
@"2 #C8CC88\n"
@"3 #888840\n"
@"4 #E8ECE8\n"
@"5 #C8CC88\n"
@"6 #888840\n"
@"7 #E8ECE8\n"
@"8 #C8CC88\n"
@"9 #888840\n"
;
static unsigned char *defaultButtonLeftPixels =
"     bbb\n"
"   bbbbb\n"
"  bbbbbb\n"
" bbbb   \n"
" bbb   o\n"
"bbb  oo.\n"
"bbb  o..\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb o...\n"
"bbb  o..\n"
"bbb  oo.\n"
" bbb   o\n"
" bbbb   \n"
"  bbbbbb\n"
"   bbbbb\n"
"     bbb\n"
;
static unsigned char *defaultButtonMiddlePixels =
"b\n"
"b\n"
"b\n"
" \n"
"o\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
".\n"
"o\n"
" \n"
"b\n"
"b\n"
"b\n"
;
static unsigned char *defaultButtonRightPixels =
"bbb     \n"
"bbbbb   \n"
"bbbbbb  \n"
"   bbbb \n"
"o   bbb \n"
".oo  bbb\n"
"..o  bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"...o bbb\n"
"..o  bbb\n"
".oo  bbb\n"
"o   bbb \n"
"   bbbb \n"
"bbbbbb  \n"
"bbbbb   \n"
"bbb     \n"
;
static unsigned char *textFieldLeftPixels =
"1\n"
"1\n"
"1\n"
"1\n"
"1\n"
"1\n"
"1\n"
"1\n"
"2\n"
"2\n"
"2\n"
"2\n"
"3\n"
"3\n"
"3\n"
"3\n"
"3\n"
"3\n"
"3\n"
"3\n"
"3\n"
"3\n"
;
static unsigned char *textFieldMiddlePixels =
"1\n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
" \n"
"3\n"
;
static unsigned char *textFieldCursorPixels =
" \n"
" \n"
" \n"
"1\n"
"1\n"
"1\n"
"1\n"
"1\n"
"2\n"
"2\n"
"2\n"
"2\n"
"3\n"
"3\n"
"3\n"
"3\n"
"3\n"
"3\n"
" \n"
" \n"
" \n"
" \n"
;


static char *zeroWingPalette1 =
"  #000000\n"
". #000000\n"
"b #C84400\n"
"X #202020\n"
"o #204440\n"
"O #206460\n"
"+ #606440\n"
"@ #404420\n"
"# #888860\n"
"$ #404460\n"
"% #606488\n"
"& #a8a8a8\n"
"* #400040\n"
"= #200020\n"
"- #600060\n"
"; #880000\n"
": #ffffff\n"
;
static char *zeroWingPixels1 =
".............................................................................. XoXXXoOoXXX XXOOXXXXXooXXoOXXOOXXX oOOoXXoOo XOOXXXoXXXX        ................................................................................................\n"
".............................................................................. XoXXXoOoXXX XXOOXXXXXooXXoOXXOoXXoXoOOoXXXOo XOOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXooXXoOXXOoXXoXXoOoXXXOo XOOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXooXXoOXXooXXoXXXooXXXOXXXOOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXoXXXoOXXooXXXoXXXoXXXOXXXoOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXoXXXoOXXooXXXoXXXoXXXOXXXoOooXoXXXX        ................................................................................................\n"
"............................................................................. XoOX  oOXX X XoOOoXXXooXXXoOXXXoXXXoOoXXXXXXXXXooooXooXXX        ................................................................................................\n"
"............................................................................. XOOX  OOXX X XoOOoXXXooXXXoOXXXXoXXXoOoXXXXXXXX oooXooXXX        ................................................................................................\n"
"............................................................................ XoOoX  OOXX X XoOOoXXXOoXXXOXXXXXXXXXoOOXXXXXXXXXXooXooXXX       X................................................................................................\n"
"............................................................................ XoOoX  OoXX XoXooOoXXXOoXXXOXXXoXXXXXXOOXXXo XXXXXXoXooXXX       X................................................................................................\n"
"............................................................................ XoOXX  OoXX XoXXoOoXXXOoXXoOXXXooXXXXXOoXXXo XooXXXXXooXXX        ................................................................................................\n"
"............................................................................ XoOX XXOoXX XoXXoOoXXXOoXXoOXXXoooXXXXoXXXXo XooXXXXXooXXX        ................................................................................................\n"
"............................................................................ XoOX XXOoXX XoXXoOoXXXOoXXoOXXXXoOoXXXXXXXXo XOoXXXXXooXXX   XX    ...............................................................................................\n"
"............................................................................ XXoX XXOoXX XoXXoOoXXXOOXXoOXXXXoOOXX XXXXXX XOoXXXXooXXXX   XX    ...............................................................................................\n"
"............................................................................ XXoX XXOXXX XoXXoOOXXXoOXXoOX XXoOOoXX XXXXX XO XoXXooXXXX   XX    ...............................................................................................\n"
"............................................................................ XXo  XXOXXX XoXXXoOoXXoOXXooO XXXoOoXX XXooXXOO ooXXoXXXX    XX    ...............................................................................................\n"
"............................................................................ XXX  XXoXXX XXooXoOOXXoOOXXoO XXXoooXX XoooXXOo ooXXoXXXX    XX    ...............................................................................................\n"
"............................................................................ XXX  XXoXXX oXooX OOXXXoOOXXOOXXXXoXXX ooooXoO oOoXXXXXXX    XX    ...............................................................................................\n"
"............................................................................ XXX  XXoXXX oXoOXXoOOXXXoOOXXOOXXXXXXX ooXXXOO oOoXXXXXX     XX    ...............................................................................................\n"
"............................................................................ XX   XXoXXXXoXoOoXXoOOOXXXXX+++   XXXoo@o  OO oOOXXXXXX      XX    ...............................................................................................\n"
"............................................................................X X   XXoXXXooX ooXXXXooOXXXXX++++oXX@@@oo@@O oOOoXXXXXX      XX    ...............................................................................................\n"
"............................................................................. XX  XXoXXXXoXX ooXXXXoooX@@++###+++@@@@@OO oOOoXXX@XX      X      ...............................................................................................\n"
"............................................................................. XX  XXoX XXoOXX oXXX@@@@@++#########+++ooo@OOo Xo@@    X   X      ...............................................................................................\n"
"............................................................................. XX  XXoX XXoOoXX o@@@@@++#############+++++++ @@o@@@  XX   X     ................................................................................................\n"
"............................................................................. XXo XXoX XXXoOXXo@@@@++#XXX##################+++@o@@XXX   XX     ................................................................................................\n"
"............................................................................. XXoX  OX XXXoooo@@@@++#X$%X###################+++@@@@@X   XX    .................................................................................................\n"
"............................................................................. XXoX  Oo XoXXXX@@@@+++#X&X+######+#############+++@@      XX    .................................................................................................\n"
".............................................................................. XXX  Oo XXoXXX@@@+++#X%$X+######+#############+++@@@     XX    .................................................................................................\n"
".............................................................................. XXo  Oo XX oXX@@@+++#X%X+#######@#############+++@@@    XXX    .................................................................................................\n"
".............................................................................. XXOXXOo XXXX   @++++X$$X+#######@#############++++@@@  XXX     .................................................................................................\n"
".............................................................................. XXOoooOoXXXXX@@@++++X$XX+#######@#############++++@@@@ XX        ...............................................................................................\n"
".............................................................................. XXOoo OoXX XXX +++++X$XX+####@@@@@@@##########++++@@@@ XX      **   ............................................................................................\n"
".............................................................................. XXOoo OOoXXX$$ XX++   XX+###@##+@+############++++@@@@ X         *** ...........................................................................................\n"
"............................................................................  *XXOoo oOoXX$&$   XX%  %X++X#####@#############++++@@@@            ***  .........................................................................................\n"
"............................................................................  *XXOoo oOoXX$&$   XX%  %X++X#####@#############++++@@@@            ***  .........................................................................................\n"
"........................................................................  ***** XoOOX oXXX$$XX$X% $XX$  X&XXXXXXXXX%$$%%#####++++@@@@               *** .......................................................................................\n"
"....................................................................... ****    XoOOX   XX$$ X$X%X$XXX %X%X%%%%%%%XXXXXX######+++@@@@     XX         ***  .....................................................................................\n"
"...................................................................... ***      XXOO X  XX$$ X$X%X$XXXXXX%XXXXXX$$X+++########+++@@@@@    XX        = *-**.....................................................................................\n"
"....................................................................  **        XXoooX  XX$$ XXX%X$XX X&X$X;&b;X$X++##########+XXXX @@                 *-- ....................................................................................\n"
"....................................................................  **        XXoooX  XX$$ XXX%X$XX X&X$X;&b;X$X++##########+XXXX @@                 *-- ....................................................................................\n"
"...............................................................XXXX***           XXXoo   XXX %X$%XXX%$X;X$X;bXX$X+######@@XXX@@@@@@@XX      X           **- ...................................................................................\n"
".........................................................      XX  **               X XX  XX %X$%XXX%$$XX$X;;X$X+##X@@@@XXXX@++++++@XX X        =         -* ..................................................................................\n"
".....................................................    ===== X **                  X%X   XX$X$%XXX%$$$X$X;XX$X##XXXXXXX@@++@@XXXXXX @@         ==       -* ..................................................................................\n"
"..................................................   =======  = ***                  X&XX   X$X$%X$X%$$$$$X;X$X+#XX @@@@@@@     &XXXXX@@           =      *-* .................................................................................\n"
".............................................     ========  == **                    X%%X   X$X$%X$X%$$$$XXXX$X#XX @@@  XX *b;*&XXX@X @@           ==     *-* .................................................................................\n"
".........................................    ============ === -*                     X$%X   X$X$%X$X$%%$$X$$XX+#XX@@@XXXX#=**XXX@@@@X @@  OO       ===    ***= ................................................................................\n"
"......................................   ==========      === -*                     % X$X   X$XXXX$X  $%$X$$XX+#XX@@XXXX@@XXXX@+@@@@X o  O   ===   ===     *-= ................................................................................\n"
"....................................  ============    ===== -*                      $ X$XX  X$XX@X$X@@XX%X%%X+##X@@@X@+++++++++++@@@ Xooo     ==    ===    *-= ................................................................................\n"
"..................................  ===========     ==*==  -*                       $$ $XX  X$XXXX$X@@@@XX$$X+##X@@@@@++######+++@@X X@        ==   ===    *-= ................................................................................\n"
"................................  ========**      ==*==   *-                        $$ X$X  X$X$$X$XXXX++X$$X+##+@@@@++++######++@@X @   X     ==   ===    *-= ................................................................................\n"
"..............................  ========**=     ==*===    -               ==         $$XXX XX$X$$X$X$$$XXX$$X###++@++##########++@@X  XX  XX    ===  ===   *-= ................................................................................\n"
"............................   ======***==    ==**==     *-            ====          $$    XX$X$$X$$X$%%$X$X+####+++###########++@@ XXX   XX    ===  ===   *-= ................................................................................\n"
"..........................     ====*****=   ==****=      -           =====            $    XX$X$$X$$X$$%%$XX+####+++##########++@@X       XX    ===  ===   *-= ................................................................................\n"
"........................  =   ====*--*===  =****==       *          ======             $    X$X$$X$$X$$$%$X+#####++++######+#++@@@X +    X      ===  ===   *-= ................................................................................\n"
"...................... ===   ===**-**===  =****=       **          =====               $    X$X$XXX$$X$$%$X+#####+++++######++@@@@X @    X       ==  ===   *-= ................................................................................\n"
"...................   ===   ===**--*==== =****=        --          ====                     X$XXX%XX$$X$$$X######+++++#######+@@@X      X        ==  ===   *-= ................................................................................\n"
".................  =====    ==**--*=======***==       *--          ===                      X$X$X&XXX$X$$X+######+@+++++#####+@@@X     XX        ==  ===   *-  ................................................................................\n"
".................==***=    ===*--**===  =****==       -**        =====         ===          X  $X%XXX$X$X+#####&#+@@++++####++@@XX    XX              ==  *-*  ................................................................................\n"
"...............  =****     ==*---*====  =***==       *-         =====        =======         X $X%XX%X$X+######&#+@@@+++####+@@@XX XXX                =   *-=  ................................................................................\n"
"..............===***==     ==*--**=== ==****==       --         =====       ========         X $X%XX%XX+###+###&#++@@+++####+@@@X XXX                 =   *-=  ................................................................................\n"
"............. ===**===    ===*--**=== ==***===       -*         ====       =========         X $X%XX%X+####+ ####++X@+++####+@@@X                     =   *-=  ................................................................................\n"
".............====-*===    ===*--**==  ==***===      *-          ====      ==========         X $X%XX$X+####+XX ++XXX@+######+@@XX                     =   --=  ................................................................................\n"
"............ ====-*=      ===*--**==  ==***==       *-         ====       ==========         XX$X%XX$X+#####@@XXXX@+++######+@@X                          -*=  ................................................................................\n"
"............ ====-*=      ===*--**==  ==***==       *-         ====     ==========           XXXX$XX$X+######+@@@@++####+###+@@X  X                  =    -= = ................................................................................\n"
"............ ====-*=      ===*--**==  ==***==      =-*         ====    ==========            @XXX$XX$X+#+#####+@@++###++@+#++@X @  XX                   **-= == ...............................................................................\n"
"...........  ====-*===    ===**-**==  ===***=      =-*         ====    ========            o @XXX$XX$X++@XX@@@++++@@XXXX @#++@X @ o                     ***= =*= ..............................................................................\n"
"..........    ===--*==    ===**--*==  ===***=      *-         =====   ========           oo  @@XXXXXXX+#++++XXXXXXXX++++@@#+@@ @@  oo                   ***= ==== .............................................................................\n"
".........     ===*-***     ===**-**=    =***==     *-         =====   =======    ===   ooo   @@XXXXX$X+######&&######+++##++@X @@   ooo                 ***=  ==== ............................................................................\n"
".........   == ==*--**=    ===**-**=    ==**==    =*-         ===    =======    ====   oo    @+@XXXX$X+############+++####+@@ @@@    oo                ****   =*===  ..........................................................................\n"
".........   ==   =*---*=    ===**-**    ==**==    =-*         ===    ======    ===    oo     @++@ XXXXX####++@XXX@+++####++@ @@@@     o                *--=    =**===  ........................................................................\n"
".........   ==   ===****=    ===*-**    ===**=    =-*         ===    =====     = X$$$ oo     @+++@ XXXX+####+@X@@@+++###++@ @@@@@    ooX               *--=    ==* ====   .......           ..................................         ........\n"
"..........   =     ===*-*==   ===****    ==**=    *-*         ===   ====== = =  X$XX Xooo    @@++@@ XXX+######@@@+#++++++@ @@@@@@    ooX  XX X         *--=     =** *=====        ==========    .......................                 .......\n"
"...........   =       =****==   ==***    ===*==   *-*         ===   ====  ==   X$XXX XXooo   @@@++@@ XXX+##########+++++@ @@@@++@   ooXX  XXX X     = **--=    = ==*   **=    =====*************   ...............     =               = ......\n"
"............           ==****==  ==***    ==*==   *-*         ===   === ===  X $XXXX XXXXOo  @@@@++@@ XX+##########++@@@ @@@++++@ oooXXX  XXXX        *-**=     = =====  ======******===       ****   ..........  =           =======        ..\n"
"      .......              *****== =**    ===*    *-*         ===   ======  X $XXXXX XXXXXOOo   @@+@@@ X+##########++@@@@@@+++   oOoXXXX  XXXXX       *-**=     ==  == ====*******====  **----*   ****              =====================     .\n"
"         ........           =*****= =*==   ==*    *-*          ==   ======  X $XXXXX XXXXXX OOoo   @@@@ @+#########+@@  @++   oOOOXXXXXX  XXXXX      *--**       ===  ===******===   **-----******   ****        ==========================    \n"
"           ........          ==****= =**   ===    ---          ==  =====   X $XXXXXX XXXXXXX  OOooo    @ @++######++@ @@   OOOOXXXXXXXX   XXXXXX     *--**    =    = ===******    ***---*****========    ***    ===========       ===========  \n"
"            ..........        ==****= ===   ==    -*-*         ==  ====    X $XXXXXX XXXXXXXXX  OOOOOoo   @++####++@    oOOoXXXXXXXXXXX   XXXXXX     *--==     =    ==*****=    =****-**=====     =======  *****  =======                ===== \n"
"               ..              ==**-**  =   ==    -=-*         ==  ===    XX$$XXXXXX  XXXXXXXXXXXXXooOOoX   ++++++   XooOoooXXXXXXXXXXX     XXXX    *--*==     === ==****=     ==****=====   =====     ====             ========       =   ====\n"
"                 =======       ===*--***==  ==    *=**         ==  ===    X XXXXXXXX  XXXXXXXXXXXXXoooOoXX @      @ XoOOooXXXXXXXXXXXXX     XXXXXXX *--*==        ===**==      =========    ===********     ========================         ==\n"
"=======      =============      ===**-** ==  =    *==**        ==  ==     X XXXXXXXX  XXXXXXXoXXXoooooOooX @@@@@@@@XXoOOoXXXXXXXXXXXXXX     XXXXXXX**-*===      =======  ----- =======      ==========************************========        =\n"
"=========   ===============  *   ===**--* =  =  =====**         =  ==     X $XX$$XXX  XXXXXXXooXXooooooOoX @+@@@@@@ XoOOoXXXXXXXXXXXXXX     X$$XX  *--*===       ====  *-***--* =====       ====   ========******-**--------******======       \n"
"========   =======****=====   *   ===**** == =  === =**         =  ==     XXXXXXXXXX  XXXXXXXoooXooooooooXX @+@@@@ XXOoooXXXXXXXXXXXXXX     XXXXX  *-**===           **-*===**-*        ****==  ====   *****====********---------****====      \n"
"========  ====******=======   **   ===**-* = =  ==   =***          =      XX%XXXXXXX  XXXXoXXXoooXoooo  ooX @++@@@ Xoo  ooXXXXXXXXXXXXX     XXXXX  --*====      ====****=   ==-*      **--**  =========   ******=======*******-----****=== =   \n"
"***====   ==******=======     **    ====-* ==   ==    ***          =      $XXXXXXXXX  XXXXooXXooooXoo &%XoX @@++@@ XoO&& oXXXXXXXXXXXXX     XXXXX  --*====    ====****=====   *-   ***------* ============  ***********=====******----***==    \n"
"=====    ==******=======      ***   ====-- ==   ==    ***          =      XX%$X$$$XX XXXXXoooXXoooXoo %%XXX @@++@@ Xo %% XXXXXXXXXXXXXXX  XX$$$X **-*=====   ====***==***=    *- ==*****----**        ======    ************=====***----**=    \n"
"        ==*******======       =**    ===--* =   ==     **                 XX XXXXXXX oXXXXooooXXooXXoo  XXX @@+++@ X o  XXXooXXXXXXXXXXX  XXXXXX **-*===========**==*****=    *-* ========**--******** =========    ***********=====**----*=   \n"
"       ==*****========    ==  =***   ===*-* ==  ==*    ***                XX$%$$$$XXXooXXXooooXXooXXoooooo   @++@   oooooooooXXXXXXXXXXX  XX$$$ ****===========**********   ==*-** =====*****--*-***** ==================    ****====***--*= = \n"
"      =*****==========     == ==**   ====-* ==  ==*    ==*                $XX XXXXXXXooXXXoooooXXoXXXooooooX X    XXooooooooXXXXXXXXXXXX XXXXXX ***==*========**********=   ==**-**   *************** ===************========    **====**--*=  \n"
"     =******========        = ==**    ===*-  = =  *      **               XXX$&$$$$$X o XXXooooXXXXXXooooooX @++@ XooooooooXXXXXXXXXXXX  XXX$$ **--=**=======*********==    ==**--******=======***** ==*****--------***=========  **====**-*= =\n"
"   ==*****=========         == =***   ===*-* = =  =*     **               XX$XXXXXXXXXooXXXoooooXXXXXXX  ooX @++@ Xoo   ooXXXXXXXXXXXXX XXXXXX **--=**=======******===     ===**------*=========    ===******----------***=======  ***===*-*= =\n"
" *****============  ====    ==  =**   ====** = =  =*     ***              XX$XX$&%%%%X ooXXXooooXXXXXXX&% oX @++@ Xo &%%ooXXXXXXXXXXXXX X%%%% **-******=====****===        ====**----*======    ==========******----------**======  **====*-*==\n"
" *****============  ====    ==  =**   ====** = =  =*     ***              XX$XX$&%%%%X ooXXXooooXXXXXXX&% oX @++@ Xo &%%ooXXXXXXXXXXXXX X%%%% **-******=====****===        ====**----*======    ==========******----------**======  **====*-*==\n"
"**===============  ======   ===  **   ====-* ===  =*  =  =***             XX X$$     X ooooXoooooXXXXX %%  X @++@ X  %%%oXXXXXXXXXX XXX X     **-==*****===****           =====**----====      ===============***************=====   **===***= \n"
"=============    ==***=    =====      ====*** ======* =   =****            X  $  $$$$$X  ooo ooooXXXXooXXoooX @@ XXoooooXXoooXXXX XX   X$$$$ *-*===*******=  ****======    ===*-***=== *****   **************================*====   **====**==\n"
"===========    ===****=   ======      ====***  =====* === ==****           XX $ $$        ooo XooXXXXoooXXooX @@ XooooooXoooXXXX XX         *--====****=== *********===    ===*-***== *******   *********************============    *=====***=\n"
"========      ===***==   ==**===      ====*** ======= ===  ==****           XX  $X  &%%%  ooo XXXXXXXooooXooX @@ XoooXXXoooXXXXX X    %%%&  *-*==*****=   *---******==    ==*****====   ******   ************************=====      =======***=\n"
"======       ====***==  ==***===      ====*** ==== ==* ==  ===*****         XX  $X  $$$$$  ooo XXXXXXoooooXoXX  XXooXXXXooXXXXX XX   $$$$ $$-* ==****= ***----***====    ==****====  === *******  ***************======*****====***=======**-*=\n"
"=====       ===***=    =****====      ====*** ==== ==* ===  ====***          XX $X  $        ooXXXXXXXooooXXXX  XoooXXooooXXXXX X        $  -* ==***= **-----**=====   =******=====  ==== ********         ************====**=====*********---=\n"
"==         ===***=    =*****===       ===**** ==== ==* ===   ===****          X $X   X &%% X  oXXXXXXXXooooXXXXXXooXXXooooXXX       %%& X   * ==***= **----****************========  =====  *****-*********     *****--***===**======***------*\n"
"          ===**==  ===*****====      ====****===== ==* ====   ===****          X  $$ X$$$$ XX   XXXoXXXoooooXXXXXooXXXooooXXX       $$ $X   * ==*== ***---*****       ===========*    ====== *****-----*********   ****---**===*========***---*\n"
"          ===**==  ===*****====      ====****===== ==* ====   ===****          X  $$ X$$$$ XX   XXXoXXXoooooXXXXXooXXXooooXXX       $$ $X   * ==*== ***---*****       ===========*    ====== *****-----*********   ****---**===*========***---*\n"
"       ====**==  =********====       ====*** =*=== ==* ====    ====****           $$ X$X     X   XXoXXXXoooooXXXooXXXXoooXXX           $X --  =====**--*****             =======*=     ==*===   ******-----********    ***--**============*****\n"
"   ====*** ===*********====        =====** ==*==== =** ==*=    **====******          $  $$$    X   XoXXXXXooooXXoXXXXoooXXX        $$   $ -- ===   *-*      XXX     XX     ===**==    *= ===***====   ********------***    **--***==========***\n"
" ====***====********=====         ====** ===**======* ===*=    ****====******          $$XXX    X  XXXXXXXXXXXXXoXXXXoooXX        XX $$  *** === **-*     XXX         XX    =====    ==**   ===*****==   ********------*     **--**============\n"
"==****===********=====          ====*   ==***===  =**==***=    ****=======**** = X     $X &$    XX  XXXXXXXXXXXXXXXXXoXXX         $& X$  ***==   ***    XXXX   ;       XX     ==  ==== ==***   ====***===   *******----***    **--***==========\n"
"=****=*********=====          ===    ====****==   =* ==**==   =*****======*****   XX    X$$      XX   XXXXXXXXXXXXXXoXXX            $X   *  =   ***    XXX    ;;bb ;    X         =====  ===***    ===***==     ****-----**    **--***=========\n"
"***********======          ===   ====***==**==    * ===**=    =******======****          $XX     XX   XXXXXXXXXXXXXXXXXX          XX     *    = ***   XXXX   ;;b&& ;;    XX      ====*===   ==*****   ===**==    ******---**    **---**========\n"
"******======                 ====***=====**==   == ===***=   ==******======****     X   $ X X    XXX   XXXXXXXXXXXXXXXXX           X    *      **    XX      ;;&&b b;;   XX     =====***========****** ===***=     *****---**    ***--**=======\n"
"***====            ===========****  ====**=    =**===****    ==*****=======***       X  $XX      XXX    XXXXXXXXXXXXXX             XX   *      *    XXX     ;;;&bb b;;   XX       =====***==  ====*******===****     ****---**    ***--**======\n"
"*====       ===========********      ===*=    ======***==   ===****=======****   =   XX  X        XX    XXXXXXXXXXXXXX     XXXX     X   *     **    X       ;;bbb  b;;    X       ===========  ======**** ===***=      ***---**    ***--*======\n"
"==     ==========************        =**      ====****===  ===*========******         X           XX    XXXXXXXXXXXXXX   XXXXXXX    X   *     *    XX  ;   ;;bbb; ;b;;    XX      ===========   ======**** ===***=     ****--***    ***--*=====\n"
"  ==========***************         **       =====***==   ===**************    =      XX          XXX   XXXXXXXXXXXXX    XXXXXXX        *    **    X   ;   ;;bbb  b;;     XX         ===        =========** ====*=      ***---***    ***--*====\n"
"=======******************         ==*       ====****==   ===**********==              XX          XXX    XXXXXXXXXXX    XXXXXXX         **  **        ;    ;;bb  b;;;     XX         ====       =========*** ===**=      ***---**     **---====\n"
"=====*************=====          =**        ===****==    =*****======          =      XX           XX     XXXXXXXXX     XXXXX            ****    XX        ;;;;  ;;;  X   XX           =====   ===========** ===**=       **---**     ***--*===\n"
"**************=====    =====   ==**        ===****==  ===*=====                       XX           XXX     XXXXXXX    XXXXXX                    X      ;   ;;;;  ;   XX   XX             ======          ==** ==***=       **---**     **---===\n"
"*****==*=======       ======  ==**         ==***==   =====                           XXX           XXX     XXXXXX     XXXX      XXX            X     ;;;;; ;;;;    ;XXX   XX                             ===* ===**=        **--**     **---===\n"
"*******====*      =========  =***         ==***=======                               XX            XXX     XXXXX      XXX    XXXXXXX          XX     ;bbbb ;;;;   ;XXX    XX                       ===    ==* ===**=        **---*     **---*==\n"
"**=======      ============ =***          ======                                     XX            XXX      XXX      XXXX   XXXXX             X     ;;b&bb  ;;; X;XXXX   XXXXX                  ===****==  ==*  =***=        **--**    **---*==\n"
"=====        ===============***           ==                                         X             XXX      XXX      XXX  XX                  X     ;;&&;;;    XXXX      XXXXX               =============  =*  =***=        **--**    **---*==\n"
;

static char *zeroWingPalette2 =
"  #000000\n"
". #000000\n"
"b #C84400\n"
"X #202020\n"
"o #204440\n"
"O #206460\n"
"+ #606440\n"
"@ #404420\n"
"# #888860\n"
"$ #404460\n"
"% #606488\n"
"& #a8a8a8\n"
"* #400040\n"
"= #200020\n"
"- #600060\n"
"; #880000\n"
": #E8ECE8\n"
"> #C8CC88\n"
", #888840\n"
"< #ffffff\n"
;
static char *zeroWingPixels2 =
".............................................................................. XoXXXoOoXXX XXOOXXXXXooXXoOXXOOXXX oOOoXXoOo XOOXXXoXXXX        ................................................................................................\n"
".............................................................................. XoXXXoOoXXX XXOOXXXXXooXXoOXXOoXXoXoOOoXXXOo XOOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXooXXoOXXOoXXoXXoOoXXXOo XOOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXooXXoOXXooXXoXXXooXXXOXXXOOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXoXXXoOXXooXXXoXXXoXXXOXXXoOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXoXXXoOXXooXXXoXXXoXXXOXXXoOooXoXXXX        ................................................................................................\n"
"............................................................................. XoOX  oOXX X XoOOoXXXooXXXoOXXXoXXXoOoXXXXXXXXXooooXooXXX        ................................................................................................\n"
"............................................................................. XOOX  OOXX X XoOOoXXXooXXXoOXXXXoXXXoOoXXXXXXXX oooXooXXX        ................................................................................................\n"
"............................................................................ XoOoX  OOXX X XoOOoXXXOoXXXOXXXXXXXXXoOOXXXXXXXXXXooXooXXX       X................................................................................................\n"
"............................................................................ XoOoX  OoXX XoXooOoXXXOoXXXOXXXoXXXXXXOOXXXo XXXXXXoXooXXX       X................................................................................................\n"
"............................................................................ XoOXX  OoXX XoXXoOoXXXOoXXoOXXXooXXXXXOoXXXo XooXXXXXooXXX        ................................................................................................\n"
"............................................................................ XoOX XXOoXX XoXXoOoXXXOoXXoOXXXoooXXXXoXXXXo XooXXXXXooXXX        ................................................................................................\n"
"............................................................................ XoOX XXOoXX XoXXoOoXXXOoXXoOXXXXoOoXXXXXXXXo XOoXXXXXooXXX   XX    ...............................................................................................\n"
"............................................................................ XXoX XXOoXX XoXXoOoXXXOOXXoOXXXXoOOXX XXXXXX XOoXXXXooXXXX   XX    ...............................................................................................\n"
"............................................................................ XXoX XXOXXX XoXXoOOXXXoOXXoOX XXoOOoXX XXXXX XO XoXXooXXXX   XX    ...............................................................................................\n"
"............................................................................ XXo  XXOXXX XoXXXoOoXXoOXXooO XXXoOoXX XXooXXOO ooXXoXXXX    XX    ...............................................................................................\n"
"............................................................................ XXX  XXoXXX XXooXoOOXXoOOXXoO XXXoooXX XoooXXOo ooXXoXXXX    XX    ...............................................................................................\n"
"............................................................................ XXX  XXoXXX oXooX OOXXXoOOXXOOXXXXoXXX ooooXoO oOoXXXXXXX    XX    ...............................................................................................\n"
"............................................................................ XXX  XXoXXX oXoOXXoOOXXXoOOXXOOXXXXXXX ooXXXOO oOoXXXXXX     XX    ...............................................................................................\n"
"............................................................................ XX   XXoXXXXoXoOoXXoOOOXXXXX+++   XXXoo@o  OO oOOXXXXXX      XX    ...............................................................................................\n"
"............................................................................X X   XXoXXXooX ooXXXXooOXXXXX++++oXX@@@oo@@O oOOoXXXXXX      XX    ...............................................................................................\n"
"............................................................................. XX  XXoXXXXoXX ooXXXXoooX@@++###+++@@@@@OO oOOoXXX@XX      X      ...............................................................................................\n"
"............................................................................. XX  XXoX XXoOXX oXXX@@@@@++#########+++ooo@OOo Xo@@    X   X      ...............................................................................................\n"
"............................................................................. XX  XXoX XXoOoXX o@@@@@++#############+++++++ @@o@@@  XX   X     ................................................................................................\n"
"............................................................................. XXo XXoX XXXoOXXo@@@@++#XXX##################+++@o@@XXX   XX     ................................................................................................\n"
"............................................................................. XXoX  OX XXXoooo@@@@++#X$%X###################+++@@@@@X   XX    .................................................................................................\n"
"............................................................................. XXoX  Oo XoXXXX@@@@+++#X&X+######+#############+++@@      XX    .................................................................................................\n"
".............................................................................. XXX  Oo XXoXXX@@@+++#X%$X+######+#############+++@@@     XX    .................................................................................................\n"
".............................................................................. XXo  Oo XX oXX@@@+++#X%X+#######@#############+++@@@    XXX    .................................................................................................\n"
".............................................................................. XXOXXOo XXXX   @++++X$$X+#######@#############++++@@@  XXX     .................................................................................................\n"
".............................................................................. XXOoooOoXXXXX@@@++++X$XX+#######@#############++++@@@@ XX        ...............................................................................................\n"
".............................................................................. XXOoo OoXX XXX +++++X$XX+####@@@@@@@##########++++@@@@ XX      **   ............................................................................................\n"
".............................................................................. XXOoo OOoXXX$$ XX++   XX+###@##+@+############++++@@@@ X         *** ...........................................................................................\n"
"............................................................................  *XXOoo oOoXX$&$   XX%  %X++X#####@#############++++@@@@            ***  .........................................................................................\n"
"............................................................................  *XXOoo oOoXX$&$   XX%  %X++X#####@#############++++@@@@            ***  .........................................................................................\n"
"........................................................................  ***** XoOOX oXXX$$XX$X% $XX$  X&XXXXXXXXX%$$%%#####++++@@@@               *** .......................................................................................\n"
"....................................................................... ****    XoOOX   XX$$ X$X%X$XXX %X%X%%%%%%%XXXXXX######+++@@@@     XX         ***  .....................................................................................\n"
"...................................................................... ***      XXOO X  XX$$ X$X%X$XXXXXX%XXXXXX$$X+++########+++@@@@@    XX        = *-**.....................................................................................\n"
"....................................................................  **        XXoooX  XX$$ XXX%X$XX X&X$X;&b;X$X++##########+XXXX @@                 *-- ....................................................................................\n"
"....................................................................  **        XXoooX  XX$$ XXX%X$XX X&X$X;&b;X$X++##########+XXXX @@                 *-- ....................................................................................\n"
"...............................................................XXXX***           XXXoo   XXX %X$%XXX%$X;X$X;bXX$X+######@@XXX@@@@@@@XX      X           **- ...................................................................................\n"
".........................................................      XX  **               X XX  XX %X$%XXX%$$XX$X;;X$X+##X@@@@XXXX@++++++@XX X        =         -* ..................................................................................\n"
".....................................................    ===== X **                  X%X   XX$X$%XXX%$$$X$X;XX$X##XXXXXXX@@++@@XXXXXX @@         ==       -* ..................................................................................\n"
"..................................................   =======  = ***                  X&XX   X$X$%X$X%$$$$$X;X$X+#XX @@@@@@@     &XXXXX@@           =      *-* .................................................................................\n"
".............................................     ========  == **                    X%%X   X$X$%X$X%$$$$XXXX$X#XX @@@  XX *b;*&XXX@X @@           ==     *-* .................................................................................\n"
".........................................    ============ === -*                     X$%X   X$X$%X$X$%%$$X$$XX+#XX@@@XXXX#=**XXX@@@@X @@  OO       ===    ***= ................................................................................\n"
"......................................   ==========      === -*                     % X$X   X$XXXX$X  $%$X$$XX+#XX@@XXXX@@XXXX@+@@@@X o  O   ===   ===     *-= ................................................................................\n"
"....................................  ============    ===== -*                      $ X$XX  X$XX@X$X@@XX%X%%X+##X@@@X@+++++++++++@@@ Xooo     ==    ===    *-= ................................................................................\n"
"..................................  ===========     ==*==  -*                       $$ $XX  X$XXXX$X@@@@XX$$X+##X@@@@@++######+++@@X X@        ==   ===    *-= ................................................................................\n"
"................................  ========**      ==*==   *-                        $$ X$X  X$X$$X$XXXX++X$$X+##+@@@@++++######++@@X @   X     ==   ===    *-= ................................................................................\n"
"..............................  ========**=     ==*===    -               ==         $$XXX XX$X$$X$X$$$XXX$$X###++@++##########++@@X  XX  XX    ===  ===   *-= ................................................................................\n"
"............................   ======***==    ==**==     *-            ====          $$    XX$X$$X$$X$%%$X$X+####+++###########++@@ XXX   XX    ===  ===   *-= ................................................................................\n"
"..........................     ====*****=   ==****=      -           =====            $    XX$X$$X$$X$$%%$XX+####+++##########++@@X       XX    ===  ===   *-= ................................................................................\n"
"........................  =   ====*--*===  =****==       *          ======             $    X$X$$X$$X$$$%$X+#####++++######+#++@@@X +    X      ===  ===   *-= ................................................................................\n"
"...................... ===   ===**-**===  =****=       **          =====               $    X$X$XXX$$X$$%$X+#####+++++######++@@@@X @    X       ==  ===   *-= ................................................................................\n"
"...................   ===   ===**--*==== =****=        --          ====                     X$XXX%XX$$X$$$X######+++++#######+@@@X      X        ==  ===   *-= ................................................................................\n"
".................  =====    ==**--*=======***==       *--          ===                      X$X$X&XXX$X$$X+######+@+++++#####+@@@X     XX        ==  ===   *-  ................................................................................\n"
".................==***=    ===*--**===  =****==       -**        =====         ===          X  $X%XXX$X$X+#####&#+@@++++####++@@XX    XX              ==  *-*  ................................................................................\n"
"...............  =****     ==*---*====  =***==       *-         =====        =======         X $X%XX%X$X+######&#+@@@+++####+@@@XX XXX                =   *-=  ................................................................................\n"
"..............===***==     ==*--**=== ==****==       --         =====       ========         X $X%XX%XX+###+###&#++@@+++####+@@@X XXX                 =   *-=  ................................................................................\n"
"............. ===**===    ===*--**=== ==***===       -*         ====       =========         X $X%XX%X+####+ ####++X@+++####+@@@X                     =   *-=  ................................................................................\n"
".............====-*===    ===*--**==  ==***===      *-          ====      ==========         X $X%XX$X+####+XX ++XXX@+######+@@XX                     =   --=  ................................................................................\n"
"............ ====-*=      ===*--**==  ==***==       *-         ====       ==========         XX$X%XX$X+#####@@XXXX@+++######+@@X                          -*=  ................................................................................\n"
"............ ====-*=      ===*--**==  ==***==       *-         ====     ==========           XXXX$XX$X+######+@@@@++########+@@X  X                  =    -= = ................................................................................\n"
"............ ====-*=      ===*--**==  ==***==      =-*         ====    ==========            @XXX$XX$X+#######+@@++########++@X @  XX                   **-= == ...............................................................................\n"
"...........  ====-*===    ===**-**==  ===***=      =-*         ====    ========            o @XXX$XX$X++##X@@@++++@@XX#####++@X @ o                     ***= =*= ..............................................................................\n"
"..........    ===--*==    ===**--*==  ===***=      *-         =====   ========           oo  @@XXXXXXX+##               ###+@@ @@  oo                   ***= ==== .............................................................................\n"
".........     ===*-***     ===**-**=    =***==     *-         =====   =======    ===   ooo   @@XXXXX$X+####@        @+++##++@X @@   ooo                 ***=  ==== ............................................................................\n"
".........   == ==*--**=    ===**-**=    ==**==    =*-         ===    =======    ====   oo    @+@XXXX$X+############+++####+@@ @@@    oo                ****   =*===  ..........................................................................\n"
".........   ==   =*---*=    ===**-**    ==**==    =-*         ===    ======    ===    oo     @++@ XXXXX####++######++####++@ @@@@     o                *--=    =**===  ........................................................................\n"
".........   ==   ===****=    ===*-**    ===**=    =-*         ===    =====     = X$$$ oo     @+++@ XXXX+####+@XXX@+++###++@ @@@@@    ooX               *--=    ==* ====   .......           ..................................         ........\n"
"..........   =     ===*-*==   ===****    ==**=    *-*         ===   ====== = =  X$XX Xooo    @@++@@ XXX+######@+++#++++++@ @@@@@@    ooX  XX X         *--=     =** *=====        ==========    .......................                 .......\n"
"...........   =       =****==   ==***    ===*==   *-*         ===   ====  ==   X$XXX XXooo   @@@++@@ XXX+######+###+++++@ @@@@++@   ooXX  XXX X     = **--=    = ==*   **=    =====*************   ...............     =               = ......\n"
"............           ==****==  ==***    ==*==   *-*         ===   === ===  X $XXXX XXXXOo  @@@@++@@ XX+##########++@@@ @@@++++@ oooXXX  XXXX        *-**=     = =====  ======******===       ****   ..........  =           =======        ..\n"
"      .......              *****== =**    ===*    *-*         ===   ======  X $XXXXX XXXXXOOo   @@+@@@ X+##########++@@@@@@+++   oOoXXXX  XXXXX       *-**=     ==  == ====*******====  **----*   ****              =====================     .\n"
"         ........           =*****= =*==   ==*    *-*          ==   ======  X $XXXXX XXXXXX OOoo   @@@@ @+#########+@@  @++   oOOOXXXXXX  XXXXX      *--**       ===  ===******===   **-----******   ****        ==========================    \n"
"           ........          ==****= =**   ===    ---          ==  =====   X $XXXXXX XXXXXXX  OOooo    @ @++######++@ @@   OOOOXXXXXXXX   XXXXXX     *--**    =    = ===******    ***---*****========    ***    ===========       ===========  \n"
"            ..........        ==****= ===   ==    -*-*         ==  ====    X $XXXXXX XXXXXXXXX  OOOOOoo   @++####++@    oOOoXXXXXXXXXXX   XXXXXX     *--==     =    ==*****=    =****-**=====     =======  *****  =======                ===== \n"
"               ..              ==**-**  =   ==    -=-*         ==  ===    XX$$XXXXXX  XXXXXXXXXXXXXooOOoX   ++++++   XooOoooXXXXXXXXXXX     XXXX    *--*==     === ==****=     ==****=====   =====     ====             ========       =   ====\n"
"                 =======       ===*--***==  ==    *=**         ==  ===    X XXXXXXXX  XXXXXXXXXXXXXoooOoXX @      @ XoOOooXXXXXXXXXXXXX     XXXXXXX *--*==        ===**==      =========    ===********     ========================         ==\n"
"=======      =============      ===**-** ==  =    *==**        ==  ==     X XXXXXXXX  XXXXXXXoXXXoooooOooX @@@@@@@@XXoOOoXXXXXXXXXXXXXX     XXXXXXX**-*===      =======  ----- =======      ==========************************========        =\n"
"=========   ===============  *   ===**--* =  =  =====**         =  ==     X $XX$$XXX  XXXXXXXooXXooooooOoX @+@@@@@@ XoOOoXXXXXXXXXXXXXX     X$$XX  *--*===       ====  *-***--* =====       ====   ========******-**--------******======       \n"
"========   =======****=====   *   ===**** == =  === =**         =  ==     XXXXXXXXXX  XXXXXXXoooXooooooooXX @+@@@@ XXOoooXXXXXXXXXXXXXX     XXXXX  *-**===           **-*===**-*        ****==  ====   *****====********---------****====      \n"
"========  ====******=======   **   ===**-* = =  ==   =***          =      XX%XXXXXXX  XXXXoXXXoooXoooo  ooX @++@@@ Xoo  ooXXXXXXXXXXXXX     XXXXX  --*====      ====****=   ==-*      **--**  =========   ******=======*******-----****=== =   \n"
"***====   ==******=======     **    ====-* ==   ==    ***          =      $XXXXXXXXX  XXXXooXXooooXoo &%XoX @@++@@ XoO&& oXXXXXXXXXXXXX     XXXXX  --*====    ====****=====   *-   ***------* ============  ***********=====******----***==    \n"
"=====    ==******=======      ***   ====-- ==   ==    ***          =      XX%$X$$$XX XXXXXoooXXoooXoo %%XXX @@++@@ Xo %% XXXXXXXXXXXXXXX  XX$$$X **-*=====   ====***==***=    *- ==*****----**        ======    ************=====***----**=    \n"
"        ==*******======       =**    ===--* =   ==     **                 XX XXXXXXX oXXXXooooXXooXXoo  XXX @@+++@ X o  XXXooXXXXXXXXXXX  XXXXXX **-*===========**==*****=    *-* ========**--******** =========    ***********=====**----*=   \n"
"       ==*****========    ==  =***   ===*-* ==  ==*    ***                XX$%$$$$XXXooXXXooooXXooXXoooooo   @++@   oooooooooXXXXXXXXXXX  XX$$$ ****===========**********   ==*-** =====*****--*-***** ==================    ****====***--*= = \n"
"      =*****==========     == ==**   ====-* ==  ==*    ==*                $XX XXXXXXXooXXXoooooXXoXXXooooooX X    XXooooooooXXXXXXXXXXXX XXXXXX ***==*========**********=   ==**-**   *************** ===************========    **====**--*=  \n"
"     =******========        = ==**    ===*-  = =  *      **               XXX$&$$$$$X o XXXooooXXXXXXooooooX @++@ XooooooooXXXXXXXXXXXX  XXX$$ **--=**=======*********==    ==**--******=======***** ==*****--------***=========  **====**-*= =\n"
"   ==*****=========         == =***   ===*-* = =  =*     **               XX$XXXXXXXXXooXXXoooooXXXXXXX  ooX @++@ Xoo   ooXXXXXXXXXXXXX XXXXXX **--=**=======******===     ===**------*=========    ===******----------***=======  ***===*-*= =\n"
" *****============  ====    ==  =**   ====** = =  =*     ***              XX$XX$&%%%%X ooXXXooooXXXXXXX&% oX @++@ Xo &%%ooXXXXXXXXXXXXX X%%%% **-******=====****===        ====**----*======    ==========******----------**======  **====*-*==\n"
" *****============  ====    ==  =**   ====** = =  =*     ***              XX$XX$&%%%%X ooXXXooooXXXXXXX&% oX @++@ Xo &%%ooXXXXXXXXXXXXX X%%%% **-******=====****===        ====**----*======    ==========******----------**======  **====*-*==\n"
"**===============  ======   ===  **   ====-* ===  =*  =  =***             XX X$$     X ooooXoooooXXXXX %%  X @++@ X  %%%oXXXXXXXXXX XXX X     **-==*****===****           =====**----====      ===============***************=====   **===***= \n"
"=============    ==***=    =====      ====*** ======* =   =****            X  $  $$$$$X  ooo ooooXXXXooXXoooX @@ XXoooooXXoooXXXX XX   X$$$$ *-*===*******=  ****======    ===*-***=== *****   **************================*====   **====**==\n"
"===========    ===****=   ======      ====***  =====* === ==****           XX $ $$        ooo XooXXXXoooXXooX @@ XooooooXoooXXXX XX         *--====****=== *********===    ===*-***== *******   *********************============    *=====***=\n"
"========      ===***==   ==**===      ====*** ======= ===  ==****           XX  $X  &%%%  ooo XXXXXXXooooXooX @@ XoooXXXoooXXXXX X    %%%&  *-*==*****=   *---******==    ==*****====   ******   ************************=====      =======***=\n"
"======       ====***==  ==***===      ====*** ==== ==* ==  ===*****         XX  $X  $$$$$  ooo XXXXXXoooooXoXX  XXooXXXXooXXXXX XX   $$$$ $$-* ==****= ***----***====    ==****====  === *******  ***************======*****====***=======**-*=\n"
"=====       ===***=    =****====      ====*** ==== ==* ===  ====***          XX $X  $        ooXXXXXXXooooXXXX  XoooXXooooXXXXX X        $  -* ==***= **-----**=====   =******=====  ==== ********         ************====**=====*********---=\n"
"==         ===***=    =*****===       ===**** ==== ==* ===   ===****          X $X   X &%% X  oXXXXXXXXooooXXXXXXooXXXooooXXX       %%& X   * ==***= **----****************========  =====  *****-*********     *****--***===**======***------*\n"
"          ===**==  ===*****====      ====****===== ==* ====   ===****          X  $$ X$$$$ XX   XXXoXXXoooooXXXXXooXXXooooXXX       $$ $X   * ==*== ***---*****       ===========*    ====== *****-----*********   ****---**===*========***---*\n"
"          ===**==  ===*****====      ====****===== ==* ====   ===****          X  $$ X$$$$ XX   XXXoXXXoooooXXXXXooXXXooooXXX       $$ $X   * ==*== ***---*****       ===========*    ====== *****-----*********   ****---**===*========***---*\n"
"       ====**==  =********====       ====*** =*=== ==* ====    ====****           $$ X$X     X   XXoXXXXoooooXXXooXXXXoooXXX           $X --  =====**--*****             =======*=     ==*===   ******-----********    ***--**============*****\n"
"   ====*** ===*********====        =====** ==*==== =** ==*=    **====******          $  $$$    X   XoXXXXXooooXXoXXXXoooXXX        $$   $ -- ===   *-*      XXX     XX     ===**==    *= ===***====   ********------***    **--***==========***\n"
" ====***====********=====         ====** ===**======* ===*=    ****====******          $$XXX    X  XXXXXXXXXXXXXoXXXXoooXX        XX $$  *** === **-*     XXX         XX    =====    ==**   ===*****==   ********------*     **--**============\n"
"==****===********=====          ====*   ==***===  =**==***=    ****=======**** = X     $X &$    XX  XXXXXXXXXXXXXXXXXoXXX         $& X$  ***==   ***    XXXX   ;       XX     ==  ==== ==***   ====***===   *******----***    **--***==========\n"
"=****=*********=====          ===    ====****==   =* ==**==   =*****======*****   XX    X$$      XX   XXXXXXXXXXXXXXoXXX            $X   *  =   ***    XXX    ;;bb ;    X         =====  ===***    ===***==     ****-----**    **--***=========\n"
"***********======          ===   ====***==**==    * ===**=    =******======****          $XX     XX   XXXXXXXXXXXXXXXXXX          XX     *    = ***   XXXX   ;;b&& ;;    XX      ====*===   ==*****   ===**==    ******---**    **---**========\n"
"******======                 ====***=====**==   == ===***=   ==******======****     X   $ X X    XXX   XXXXXXXXXXXXXXXXX           X    *      **    XX      ;;&&b b;;   XX     =====***========****** ===***=     *****---**    ***--**=======\n"
"***====            ===========****  ====**=    =**===****    ==*****=======***       X  $XX      XXX    XXXXXXXXXXXXXX             XX   *      *    XXX     ;;;&bb b;;   XX       =====***==  ====*******===****     ****---**    ***--**======\n"
"*====       ===========********      ===*=    ======***==   ===****=======****   =   XX  X        XX    XXXXXXXXXXXXXX     XXXX     X   *     **    X       ;;bbb  b;;    X       ===========  ======**** ===***=      ***---**    ***--*======\n"
"==     ==========************        =**      ====****===  ===*========******         X           XX    XXXXXXXXXXXXXX   XXXXXXX    X   *     *    XX  ;   ;;bbb; ;b;;    XX      ===========   ======**** ===***=     ****--***    ***--*=====\n"
"  ==========***************         **       =====***==   ===**************    =      XX          XXX   XXXXXXXXXXXXX    XXXXXXX        *    **    X   ;   ;;bbb  b;;     XX         ===        =========** ====*=      ***---***    ***--*====\n"
"=======******************         ==*       ====****==   ===**********==              XX          XXX    XXXXXXXXXXX    XXXXXXX         **  **        ;    ;;bb  b;;;     XX         ====       =========*** ===**=      ***---**     **---====\n"
"=====*************=====          =**        ===****==    =*****======          =      XX           XX     XXXXXXXXX     XXXXX            ****    XX        ;;;;  ;;;  X   XX           =====   ===========** ===**=       **---**     ***--*===\n"
"**************=====    =====   ==**        ===****==  ===*=====                       XX           XXX     XXXXXXX    XXXXXX                    X      ;   ;;;;  ;   XX   XX             ======          ==** ==***=       **---**     **---===\n"
"*****==*=======       ======  ==**         ==***==   =====                           XXX           XXX     XXXXXX     XXXX      XXX            X     ;;;;; ;;;;    ;XXX   XX                             ===* ===**=        **--**     **---===\n"
"*******====*      =========  =***         ==***=======                               XX            XXX     XXXXX      XXX    XXXXXXX          XX     ;bbbb ;;;;   ;XXX    XX                       ===    ==* ===**=        **---*     **---*==\n"
"**=======      ============ =***          ======                                     XX            XXX      XXX      XXXX   XXXXX             X     ;;b&bb  ;;; X;XXXX   XXXXX                  ===****==  ==*  =***=        **--**    **---*==\n"
"=====        ===============***           ==                                         X             XXX      XXX      XXX  XX                  X     ;;&&;;;    XXXX      XXXXX               =============  =*  =***=        **--**    **---*==\n"
;
static char *zeroWingPalette3 =
"  #000000\n"
". #000000\n"
"b #C84400\n"
"X #202020\n"
"o #204440\n"
"O #206460\n"
"+ #606440\n"
"@ #404420\n"
"# #888860\n"
"$ #404460\n"
"% #606488\n"
"& #a8a8a8\n"
"* #400040\n"
"= #200020\n"
"- #600060\n"
"; #880000\n"
": #E8ECE8\n"
"> #404400\n"
", #888840\n"
"< #C8CC88\n"
"1 #ffffff\n"
;
static char *zeroWingPixels3 =
".............................................................................. XoXXXoOoXXX XXOOXXXXXooXXoOXXOOXXX oOOoXXoOo XOOXXXoXXXX        ................................................................................................\n"
".............................................................................. XoXXXoOoXXX XXOOXXXXXooXXoOXXOoXXoXoOOoXXXOo XOOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXooXXoOXXOoXXoXXoOoXXXOo XOOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXooXXoOXXooXXoXXXooXXXOXXXOOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXoXXXoOXXooXXXoXXXoXXXOXXXoOooXoXXXX        ................................................................................................\n"
".............................................................................. XOXXXoOoXXX XXOOXXXXXoXXXoOXXooXXXoXXXoXXXOXXXoOooXoXXXX        ................................................................................................\n"
"............................................................................. XoOX  oOXX X XoOOoXXXooXXXoOXXXoXXXoOoXXXXXXXXXooooXooXXX        ................................................................................................\n"
"............................................................................. XOOX  OOXX X XoOOoXXXooXXXoOXXXXoXXXoOoXXXXXXXX oooXooXXX        ................................................................................................\n"
"............................................................................ XoOoX  OOXX X XoOOoXXXOoXXXOXXXXXXXXXoOOXXXXXXXXXXooXooXXX       X................................................................................................\n"
"............................................................................ XoOoX  OoXX XoXooOoXXXOoXXXOXXXoXXXXXXOOXXXo XXXXXXoXooXXX       X................................................................................................\n"
"............................................................................ XoOXX  OoXX XoXXoOoXXXOoXXoOXXXooXXXXXOoXXXo XooXXXXXooXXX        ................................................................................................\n"
"............................................................................ XoOX XXOoXX XoXXoOoXXXOoXXoOXXXoooXXXXoXXXXo XooXXXXXooXXX        ................................................................................................\n"
"............................................................................ XoOX XXOoXX XoXXoOoXXXOoXXoOXXXXoOoXXXXXXXXo XOoXXXXXooXXX   XX    ...............................................................................................\n"
"............................................................................ XXoX XXOoXX XoXXoOoXXXOOXXoOXXXXoOOXX XXXXXX XOoXXXXooXXXX   XX    ...............................................................................................\n"
"............................................................................ XXoX XXOXXX XoXXoOOXXXoOXXoOX XXoOOoXX XXXXX XO XoXXooXXXX   XX    ...............................................................................................\n"
"............................................................................ XXo  XXOXXX XoXXXoOoXXoOXXooO XXXoOoXX XXooXXOO ooXXoXXXX    XX    ...............................................................................................\n"
"............................................................................ XXX  XXoXXX XXooXoOOXXoOOXXoO XXXoooXX XoooXXOo ooXXoXXXX    XX    ...............................................................................................\n"
"............................................................................ XXX  XXoXXX oXooX OOXXXoOOXXOOXXXXoXXX ooooXoO oOoXXXXXXX    XX    ...............................................................................................\n"
"............................................................................ XXX  XXoXXX oXoOXXoOOXXXoOOXXOOXXXXXXX ooXXXOO oOoXXXXXX     XX    ...............................................................................................\n"
"............................................................................ XX   XXoXXXXoXoOoXXoOOOXXXXX+++   XXXoo@o  OO oOOXXXXXX      XX    ...............................................................................................\n"
"............................................................................X X   XXoXXXooX ooXXXXooOXXXXX++++oXX@@@oo@@O oOOoXXXXXX      XX    ...............................................................................................\n"
"............................................................................. XX  XXoXXXXoXX ooXXXXoooX@@++###+++@@@@@OO oOOoXXX@XX      X      ...............................................................................................\n"
"............................................................................. XX  XXoX XXoOXX oXXX@@@@@++#########+++ooo@OOo Xo@@    X   X      ...............................................................................................\n"
"............................................................................. XX  XXoX XXoOoXX o@@@@@++#############+++++++ @@o@@@  XX   X     ................................................................................................\n"
"............................................................................. XXo XXoX XXXoOXXo@@@@++#XXX##################+++@o@@XXX   XX     ................................................................................................\n"
"............................................................................. XXoX  OX XXXoooo@@@@++#X$%X###################+++@@@@@X   XX    .................................................................................................\n"
"............................................................................. XXoX  Oo XoXXXX@@@@+++#X&X+######+#############+++@@      XX    .................................................................................................\n"
".............................................................................. XXX  Oo XXoXXX@@@+++#X%$X+######+#############+++@@@     XX    .................................................................................................\n"
".............................................................................. XXo  Oo XX oXX@@@+++#X%X+#######@#############+++@@@    XXX    .................................................................................................\n"
".............................................................................. XXOXXOo XXXX   @++++X$$X+#######@#############++++@@@  XXX     .................................................................................................\n"
".............................................................................. XXOoooOoXXXXX@@@++++X$XX+#######@#############++++@@@@ XX        ...............................................................................................\n"
".............................................................................. XXOoo OoXX XXX +++++X$XX+####@@@@@@@##########++++@@@@ XX      **   ............................................................................................\n"
".............................................................................. XXOoo OOoXXX$$ XX++   XX+###@##+@+############++++@@@@ X         *** ...........................................................................................\n"
"............................................................................  *XXOoo oOoXX$&$   XX%  %X++X#####@#############++++@@@@            ***  .........................................................................................\n"
"............................................................................  *XXOoo oOoXX$&$   XX%  %X++X#####@#############++++@@@@            ***  .........................................................................................\n"
"........................................................................  ***** XoOOX oXXX$$XX$X% $XX$  X&XXXXXXXXX%$$%%#####++++@@@@               *** .......................................................................................\n"
"....................................................................... ****    XoOOX   XX$$ X$X%X$XXX %X%X%%%%%%%XXXXXX######+++@@@@     XX         ***  .....................................................................................\n"
"...................................................................... ***      XXOO X  XX$$ X$X%X$XXXXXX%XXXXXX$$X+++########+++@@@@@    XX        = *-**.....................................................................................\n"
"....................................................................  **        XXoooX  XX$$ XXX%X$XX X&X$X;&b;X$X++##########+XXXX @@                 *-- ....................................................................................\n"
"....................................................................  **        XXoooX  XX$$ XXX%X$XX X&X$X;&b;X$X++##########+XXXX @@                 *-- ....................................................................................\n"
"...............................................................XXXX***           XXXoo   XXX %X$%XXX%$X;X$X;bXX$X+######@@XXX@@@@@@@XX      X           **- ...................................................................................\n"
".........................................................      XX  **               X XX  XX %X$%XXX%$$XX$X;;X$X+##X@@@@XXXX@++++++@XX X        =         -* ..................................................................................\n"
".....................................................    ===== X **                  X%X   XX$X$%XXX%$$$X$X;XX$X##XXXXXXX@@++@@XXXXXX @@         ==       -* ..................................................................................\n"
"..................................................   =======  = ***                  X&XX   X$X$%X$X%$$$$$X;X$X+#XX @@@@@@@     &XXXXX@@           =      *-* .................................................................................\n"
".............................................     ========  == **                    X%%X   X$X$%X$X%$$$$XXXX$X#XX @@@  XX *b;*&XXX@X @@           ==     *-* .................................................................................\n"
".........................................    ============ === -*                     X$%X   X$X$%X$X$%%$$X$$XX+#XX@@@XXXX#=**XXX@@@@X @@  OO       ===    ***= ................................................................................\n"
"......................................   ==========      === -*                     % X$X   X$XXXX$X  $%$X$$XX+#XX@@XXXX@@XXXX@+@@@@X o  O   ===   ===     *-= ................................................................................\n"
"....................................  ============    ===== -*                      $ X$XX  X$XX@X$X@@XX%X%%X+##X@@@X@+++++++++++@@@ Xooo     ==    ===    *-= ................................................................................\n"
"..................................  ===========     ==*==  -*                       $$ $XX  X$XXXX$X@@@@XX$$X+##X@@@@@++######+++@@X X@        ==   ===    *-= ................................................................................\n"
"................................  ========**      ==*==   *-                        $$ X$X  X$X$$X$XXXX++X$$X+##+@@@@++++######++@@X @   X     ==   ===    *-= ................................................................................\n"
"..............................  ========**=     ==*===    -               ==         $$XXX XX$X$$X$X$$$XXX$$X###++@++##########++@@X  XX  XX    ===  ===   *-= ................................................................................\n"
"............................   ======***==    ==**==     *-            ====          $$    XX$X$$X$$X$%%$X$X+####+++###########++@@ XXX   XX    ===  ===   *-= ................................................................................\n"
"..........................     ====*****=   ==****=      -           =====            $    XX$X$$X$$X$$%%$XX+####+++##########++@@X       XX    ===  ===   *-= ................................................................................\n"
"........................  =   ====*--*===  =****==       *          ======             $    X$X$$X$$X$$$%$X+#####++++######+#++@@@X +    X      ===  ===   *-= ................................................................................\n"
"...................... ===   ===**-**===  =****=       **          =====               $    X$X$XXX$$X$$%$X+#####+++++######++@@@@X @    X       ==  ===   *-= ................................................................................\n"
"...................   ===   ===**--*==== =****=        --          ====                     X$XXX%XX$$X$$$X######+++++#######+@@@X      X        ==  ===   *-= ................................................................................\n"
".................  =====    ==**--*=======***==       *--          ===                      X$X$X&XXX$X$$X+######+@+++++#####+@@@X     XX        ==  ===   *-  ................................................................................\n"
".................==***=    ===*--**===  =****==       -**        =====         ===          X  $X%XXX$X$X+#####&#+@@++++####++@@XX    XX              ==  *-*  ................................................................................\n"
"...............  =****     ==*---*====  =***==       *-         =====        =======         X $X%XX%X$X+######&#+@@@+++####+@@@XX XXX                =   *-=  ................................................................................\n"
"..............===***==     ==*--**=== ==****==       --         =====       ========         X $X%XX%XX+###+###&#++@@+++####+@@@X XXX                 =   *-=  ................................................................................\n"
"............. ===**===    ===*--**=== ==***===       -*         ====       =========         X $X%XX%X+####+ ####++X@+++####+@@@X                     =   *-=  ................................................................................\n"
".............====-*===    ===*--**==  ==***===      *-          ====      ==========         X $X%XX$X+####+XX ++XXX@+######+@@XX                     =   --=  ................................................................................\n"
"............ ====-*=      ===*--**==  ==***==       *-         ====       ==========         XX$X%XX$X+#####@@XXXX@+++######+@@X                          -*=  ................................................................................\n"
"............ ====-*=      ===*--**==  ==***==       *-         ====     ==========           XXXX$XX$X+######+@@@@++########+@@X  X                  =    -= = ................................................................................\n"
"............ ====-*=      ===*--**==  ==***==      =-*         ====    ==========            @XXX$XX$X+######+++@++###++###++@X @  XX                   **-= == ...............................................................................\n"
"...........  ====-*===    ===**-**==  ===***=      =-*         ====    ========            o @XXX$XX$X+###@@  @++@  @+#####++@X @ o                     ***= =*= ..............................................................................\n"
"..........    ===--*==    ===**--*==  ===***=      *-         =====   ========           oo  @@XXXXXXX+##+  X           ###+@@ @@  oo                   ***= ==== .............................................................................\n"
".........     ===*-***     ===**-**=    =***==     *-         =====   =======    ===   ooo   @@XXXXX$X+#####@      @#+++##++@X @@   ooo                 ***=  ==== ............................................................................\n"
".........   == ==*--**=    ===**-**=    ==**==    =*-         ===    =======    ====   oo    @+@XXXX$X+############+++####+@@ @@@    oo                ****   =*===  ..........................................................................\n"
".........   ==   =*---*=    ===**-**    ==**==    =-*         ===    ======    ===    oo     @++@ XXXXX####++#####+++####++@ @@@@     o                *--=    =**===  ........................................................................\n"
".........   ==   ===****=    ===*-**    ===**=    =-*         ===    =====     = X$$$ oo     @+++@ XXXX+####+@XXX@+++###++@ @@@@@    ooX               *--=    ==* ====   .......           ..................................         ........\n"
"..........   =     ===*-*==   ===****    ==**=    *-*         ===   ====== = =  X$XX Xooo    @@++@@ XXX+######X@@+#++++++@ @@@@@@    ooX  XX X         *--=     =** *=====        ==========    .......................                 .......\n"
"...........   =       =****==   ==***    ===*==   *-*         ===   ====  ==   X$XXX XXooo   @@@++@@ XXX+##########+++++@ @@@@++@   ooXX  XXX X     = **--=    = ==*   **=    =====*************   ...............     =               = ......\n"
"............           ==****==  ==***    ==*==   *-*         ===   === ===  X $XXXX XXXXOo  @@@@++@@ XX+##########++@@@ @@@++++@ oooXXX  XXXX        *-**=     = =====  ======******===       ****   ..........  =           =======        ..\n"
"      .......              *****== =**    ===*    *-*         ===   ======  X $XXXXX XXXXXOOo   @@+@@@ X+##########++@@@@@@+++   oOoXXXX  XXXXX       *-**=     ==  == ====*******====  **----*   ****              =====================     .\n"
"         ........           =*****= =*==   ==*    *-*          ==   ======  X $XXXXX XXXXXX OOoo   @@@@ @+#########+@@  @++   oOOOXXXXXX  XXXXX      *--**       ===  ===******===   **-----******   ****        ==========================    \n"
"           ........          ==****= =**   ===    ---          ==  =====   X $XXXXXX XXXXXXX  OOooo    @ @++######++@ @@   OOOOXXXXXXXX   XXXXXX     *--**    =    = ===******    ***---*****========    ***    ===========       ===========  \n"
"            ..........        ==****= ===   ==    -*-*         ==  ====    X $XXXXXX XXXXXXXXX  OOOOOoo   @++####++@    oOOoXXXXXXXXXXX   XXXXXX     *--==     =    ==*****=    =****-**=====     =======  *****  =======                ===== \n"
"               ..              ==**-**  =   ==    -=-*         ==  ===    XX$$XXXXXX  XXXXXXXXXXXXXooOOoX   ++++++   XooOoooXXXXXXXXXXX     XXXX    *--*==     === ==****=     ==****=====   =====     ====             ========       =   ====\n"
"                 =======       ===*--***==  ==    *=**         ==  ===    X XXXXXXXX  XXXXXXXXXXXXXoooOoXX @      @ XoOOooXXXXXXXXXXXXX     XXXXXXX *--*==        ===**==      =========    ===********     ========================         ==\n"
"=======      =============      ===**-** ==  =    *==**        ==  ==     X XXXXXXXX  XXXXXXXoXXXoooooOooX @@@@@@@@XXoOOoXXXXXXXXXXXXXX     XXXXXXX**-*===      =======  ----- =======      ==========************************========        =\n"
"=========   ===============  *   ===**--* =  =  =====**         =  ==     X $XX$$XXX  XXXXXXXooXXooooooOoX @+@@@@@@ XoOOoXXXXXXXXXXXXXX     X$$XX  *--*===       ====  *-***--* =====       ====   ========******-**--------******======       \n"
"========   =======****=====   *   ===**** == =  === =**         =  ==     XXXXXXXXXX  XXXXXXXoooXooooooooXX @+@@@@ XXOoooXXXXXXXXXXXXXX     XXXXX  *-**===           **-*===**-*        ****==  ====   *****====********---------****====      \n"
"========  ====******=======   **   ===**-* = =  ==   =***          =      XX%XXXXXXX  XXXXoXXXoooXoooo  ooX @++@@@ Xoo  ooXXXXXXXXXXXXX     XXXXX  --*====      ====****=   ==-*      **--**  =========   ******=======*******-----****=== =   \n"
"***====   ==******=======     **    ====-* ==   ==    ***          =      $XXXXXXXXX  XXXXooXXooooXoo &%XoX @@++@@ XoO&& oXXXXXXXXXXXXX     XXXXX  --*====    ====****=====   *-   ***------* ============  ***********=====******----***==    \n"
"=====    ==******=======      ***   ====-- ==   ==    ***          =      XX%$X$$$XX XXXXXoooXXoooXoo %%XXX @@++@@ Xo %% XXXXXXXXXXXXXXX  XX$$$X **-*=====   ====***==***=    *- ==*****----**        ======    ************=====***----**=    \n"
"        ==*******======       =**    ===--* =   ==     **                 XX XXXXXXX oXXXXooooXXooXXoo  XXX @@+++@ X o  XXXooXXXXXXXXXXX  XXXXXX **-*===========**==*****=    *-* ========**--******** =========    ***********=====**----*=   \n"
"       ==*****========    ==  =***   ===*-* ==  ==*    ***                XX$%$$$$XXXooXXXooooXXooXXoooooo   @++@   oooooooooXXXXXXXXXXX  XX$$$ ****===========**********   ==*-** =====*****--*-***** ==================    ****====***--*= = \n"
"      =*****==========     == ==**   ====-* ==  ==*    ==*                $XX XXXXXXXooXXXoooooXXoXXXooooooX X    XXooooooooXXXXXXXXXXXX XXXXXX ***==*========**********=   ==**-**   *************** ===************========    **====**--*=  \n"
"     =******========        = ==**    ===*-  = =  *      **               XXX$&$$$$$X o XXXooooXXXXXXooooooX @++@ XooooooooXXXXXXXXXXXX  XXX$$ **--=**=======*********==    ==**--******=======***** ==*****--------***=========  **====**-*= =\n"
"   ==*****=========         == =***   ===*-* = =  =*     **               XX$XXXXXXXXXooXXXoooooXXXXXXX  ooX @++@ Xoo   ooXXXXXXXXXXXXX XXXXXX **--=**=======******===     ===**------*=========    ===******----------***=======  ***===*-*= =\n"
" *****============  ====    ==  =**   ====** = =  =*     ***              XX$XX$&%%%%X ooXXXooooXXXXXXX&% oX @++@ Xo &%%ooXXXXXXXXXXXXX X%%%% **-******=====****===        ====**----*======    ==========******----------**======  **====*-*==\n"
" *****============  ====    ==  =**   ====** = =  =*     ***              XX$XX$&%%%%X ooXXXooooXXXXXXX&% oX @++@ Xo &%%ooXXXXXXXXXXXXX X%%%% **-******=====****===        ====**----*======    ==========******----------**======  **====*-*==\n"
"**===============  ======   ===  **   ====-* ===  =*  =  =***             XX X$$     X ooooXoooooXXXXX %%  X @++@ X  %%%oXXXXXXXXXX XXX X     **-==*****===****           =====**----====      ===============***************=====   **===***= \n"
"=============    ==***=    =====      ====*** ======* =   =****            X  $  $$$$$X  ooo ooooXXXXooXXoooX @@ XXoooooXXoooXXXX XX   X$$$$ *-*===*******=  ****======    ===*-***=== *****   **************================*====   **====**==\n"
"===========    ===****=   ======      ====***  =====* === ==****           XX $ $$        ooo XooXXXXoooXXooX @@ XooooooXoooXXXX XX         *--====****=== *********===    ===*-***== *******   *********************============    *=====***=\n"
"========      ===***==   ==**===      ====*** ======= ===  ==****           XX  $X  &%%%  ooo XXXXXXXooooXooX @@ XoooXXXoooXXXXX X    %%%&  *-*==*****=   *---******==    ==*****====   ******   ************************=====      =======***=\n"
"======       ====***==  ==***===      ====*** ==== ==* ==  ===*****         XX  $X  $$$$$  ooo XXXXXXoooooXoXX  XXooXXXXooXXXXX XX   $$$$ $$-* ==****= ***----***====    ==****====  === *******  ***************======*****====***=======**-*=\n"
"=====       ===***=    =****====      ====*** ==== ==* ===  ====***          XX $X  $        ooXXXXXXXooooXXXX  XoooXXooooXXXXX X        $  -* ==***= **-----**=====   =******=====  ==== ********         ************====**=====*********---=\n"
"==         ===***=    =*****===       ===**** ==== ==* ===   ===****          X $X   X &%% X  oXXXXXXXXooooXXXXXXooXXXooooXXX       %%& X   * ==***= **----****************========  =====  *****-*********     *****--***===**======***------*\n"
"          ===**==  ===*****====      ====****===== ==* ====   ===****          X  $$ X$$$$ XX   XXXoXXXoooooXXXXXooXXXooooXXX       $$ $X   * ==*== ***---*****       ===========*    ====== *****-----*********   ****---**===*========***---*\n"
"          ===**==  ===*****====      ====****===== ==* ====   ===****          X  $$ X$$$$ XX   XXXoXXXoooooXXXXXooXXXooooXXX       $$ $X   * ==*== ***---*****       ===========*    ====== *****-----*********   ****---**===*========***---*\n"
"       ====**==  =********====       ====*** =*=== ==* ====    ====****           $$ X$X     X   XXoXXXXoooooXXXooXXXXoooXXX           $X --  =====**--*****             =======*=     ==*===   ******-----********    ***--**============*****\n"
"   ====*** ===*********====        =====** ==*==== =** ==*=    **====******          $  $$$    X   XoXXXXXooooXXoXXXXoooXXX        $$   $ -- ===   *-*      XXX     XX     ===**==    *= ===***====   ********------***    **--***==========***\n"
" ====***====********=====         ====** ===**======* ===*=    ****====******          $$XXX    X  XXXXXXXXXXXXXoXXXXoooXX        XX $$  *** === **-*     XXX         XX    =====    ==**   ===*****==   ********------*     **--**============\n"
"==****===********=====          ====*   ==***===  =**==***=    ****=======**** = X     $X &$    XX  XXXXXXXXXXXXXXXXXoXXX         $& X$  ***==   ***    XXXX   ;       XX     ==  ==== ==***   ====***===   *******----***    **--***==========\n"
"=****=*********=====          ===    ====****==   =* ==**==   =*****======*****   XX    X$$      XX   XXXXXXXXXXXXXXoXXX            $X   *  =   ***    XXX    ;;bb ;    X         =====  ===***    ===***==     ****-----**    **--***=========\n"
"***********======          ===   ====***==**==    * ===**=    =******======****          $XX     XX   XXXXXXXXXXXXXXXXXX          XX     *    = ***   XXXX   ;;b&& ;;    XX      ====*===   ==*****   ===**==    ******---**    **---**========\n"
"******======                 ====***=====**==   == ===***=   ==******======****     X   $ X X    XXX   XXXXXXXXXXXXXXXXX           X    *      **    XX      ;;&&b b;;   XX     =====***========****** ===***=     *****---**    ***--**=======\n"
"***====            ===========****  ====**=    =**===****    ==*****=======***       X  $XX      XXX    XXXXXXXXXXXXXX             XX   *      *    XXX     ;;;&bb b;;   XX       =====***==  ====*******===****     ****---**    ***--**======\n"
"*====       ===========********      ===*=    ======***==   ===****=======****   =   XX  X        XX    XXXXXXXXXXXXXX     XXXX     X   *     **    X       ;;bbb  b;;    X       ===========  ======**** ===***=      ***---**    ***--*======\n"
"==     ==========************        =**      ====****===  ===*========******         X           XX    XXXXXXXXXXXXXX   XXXXXXX    X   *     *    XX  ;   ;;bbb; ;b;;    XX      ===========   ======**** ===***=     ****--***    ***--*=====\n"
"  ==========***************         **       =====***==   ===**************    =      XX          XXX   XXXXXXXXXXXXX    XXXXXXX        *    **    X   ;   ;;bbb  b;;     XX         ===        =========** ====*=      ***---***    ***--*====\n"
"=======******************         ==*       ====****==   ===**********==              XX          XXX    XXXXXXXXXXX    XXXXXXX         **  **        ;    ;;bb  b;;;     XX         ====       =========*** ===**=      ***---**     **---====\n"
"=====*************=====          =**        ===****==    =*****======          =      XX           XX     XXXXXXXXX     XXXXX            ****    XX        ;;;;  ;;;  X   XX           =====   ===========** ===**=       **---**     ***--*===\n"
"**************=====    =====   ==**        ===****==  ===*=====                       XX           XXX     XXXXXXX    XXXXXX                    X      ;   ;;;;  ;   XX   XX             ======          ==** ==***=       **---**     **---===\n"
"*****==*=======       ======  ==**         ==***==   =====                           XXX           XXX     XXXXXX     XXXX      XXX            X     ;;;;; ;;;;    ;XXX   XX                             ===* ===**=        **--**     **---===\n"
"*******====*      =========  =***         ==***=======                               XX            XXX     XXXXX      XXX    XXXXXXX          XX     ;bbbb ;;;;   ;XXX    XX                       ===    ==* ===**=        **---*     **---*==\n"
"**=======      ============ =***          ======                                     XX            XXX      XXX      XXXX   XXXXX             X     ;;b&bb  ;;; X;XXXX   XXXXX                  ===****==  ==*  =***=        **--**    **---*==\n"
"=====        ===============***           ==                                         X             XXX      XXX      XXX  XX                  X     ;;&&;;;    XXXX      XXXXX               =============  =*  =***=        **--**    **---*==\n"
;


@implementation Definitions(fjdksljfklsdjfdsjkfljdsklfjkfjdskfjksdffjsdkfjksdfjksd)
+ (id)testZeroWingTextFields
{
    id obj = [@"ZeroWingTextFields" asInstance];
    id fields = [@"field1:field2:field3:field4:field5:" splitTerminator:@":"];
    [obj setValue:@"JDLFKSJLKDFJKLDSJFKL" forKey:@"text"];
    [obj setValue:fields forKey:@"fields"];
    [obj setValue:@"OK" forKey:@"okText"];
    [obj setValue:@"Cancel" forKey:@"cancelText"];
//    [obj setValue:@"1" forKey:@"hidden"];
    return obj;
}
@end

@interface ZeroWingTextFields : IvarObject
{
    id _colorizedFont;
    id _defaultButtonLeftPixels;
    id _defaultButtonMiddlePixels;
    id _defaultButtonRightPixels;

    int _iteration;
    id _text;
    id _fields;
    id _buffers;
    id _readonly;
    int _cursorBlink;
    int _cursorPos;
    int _currentField;
    int _returnKeyDown;

    Int4 _okRect;
    Int4 _cancelRect;
    id _okText;
    id _cancelText;
    char _buttonDown;
    char _buttonHover;
    int _dialogMode;
    int _hidden;

    int _buttonDownX;
    int _buttonDownY;
}
@end
@implementation ZeroWingTextFields
- (id)init
{
    self = [super init];
    if (self) {
        id obj = [Definitions scaleFont:1
                        :[Definitions arrayOfCStringsForChicagoFont]
                        :[Definitions arrayOfWidthsForChicagoFont]
                        :[Definitions arrayOfHeightsForChicagoFont]
                        :[Definitions arrayOfXSpacingsForChicagoFont]];
        [self setValue:obj forKey:@"colorizedFont"];
        destructiveColorizeFont(obj);
        id pixels;
        pixels = nsfmt(@"%s", defaultButtonLeftPixels);
        destructiveColorizeButton([pixels UTF8String]);
        [self setValue:pixels forKey:@"defaultButtonLeftPixels"];
        pixels = nsfmt(@"%s", defaultButtonMiddlePixels);
        destructiveColorizeButton([pixels UTF8String]);
        [self setValue:pixels forKey:@"defaultButtonMiddlePixels"];
        pixels = nsfmt(@"%s", defaultButtonRightPixels);
        destructiveColorizeButton([pixels UTF8String]);
        [self setValue:pixels forKey:@"defaultButtonRightPixels"];
    }
    return self;
}
- (BOOL)shouldAnimate
{
    return YES;
}
- (int)preferredWidth
{
    return 640;
}
- (int)preferredHeight
{
    int zeroWingHeight = [Definitions heightForCString:zeroWingPixels1];

    id bitmap = [Definitions bitmapWithWidth:1 height:1];
    int lineHeight = [bitmap bitmapHeightForText:@"X"];
    int h = 28+zeroWingHeight+24;
    int w = 640-18*4;
    {
        id text = [bitmap fitBitmapString:_text width:w];
        h += [bitmap bitmapHeightForText:text] + lineHeight;
    }
    h += [_fields count]*27;
    h += 21+28+21;
    return h;
}

- (void)handleBackgroundUpdate:(id)event
{
    _iteration++;
    _cursorBlink--;
    if (_cursorBlink < 0) {
        _cursorBlink = 1;
    }
}
- (void)drawInBitmap:(id)bitmap rect:(Int4)r
{
    if (_colorizedFont) {
        [bitmap useFont:[[_colorizedFont nth:0] bytes]
                    :[[_colorizedFont nth:1] bytes]
                    :[[_colorizedFont nth:2] bytes]
                    :[[_colorizedFont nth:3] bytes]];
    }

    int zeroWingWidth = [Definitions widthForCString:zeroWingPixels1];
    int zeroWingHeight = [Definitions heightForCString:zeroWingPixels1];
    int topH = 28+zeroWingHeight;
    int bottomH = 21+28+21;

    int lineHeight = [bitmap bitmapHeightForText:@"X"];

    // text

    [bitmap setColor:@"black"];
    [bitmap fillRectangleAtX:r.x y:r.y+topH w:r.w h:r.h-topH-bottomH];

    int y = topH+24;

    {
        int textWidth = r.w - 18*4;
        id text = [bitmap fitBitmapString:_text width:textWidth];
        int textHeight = [bitmap bitmapHeightForText:text];
        [bitmap drawBitmapText:text x:89 y:y palette:_textPalette];
        y += textHeight + lineHeight;
    }

    int fieldWidth = 0;
    for (int i=0; i<[_fields count]; i++) {
        int w = [bitmap bitmapWidthForText:[_fields nth:i]];
        if (w > fieldWidth) {
            fieldWidth = w;
        }
    }

    {
        for (int i=0; i<[_fields count]; i++) {
            id field = [_fields nth:i];
            [bitmap drawBitmapText:field x:18*2+fieldWidth-[bitmap bitmapWidthForText:field] y:y+6 palette:_textPalette];

            int x = 18*2 + fieldWidth + 10;
/*
            [bitmap setColor:@"black"];
            [bitmap fillRectangleAtX:x y:y w:r.w-x-18 h:22];
            [bitmap setColor:@"white"];
            [bitmap fillRectangleAtX:x+1 y:y+1 w:r.w-x-18-2 h:22-2];
*/
            [Definitions drawInBitmap:bitmap left:textFieldLeftPixels middle:textFieldMiddlePixels right:textFieldLeftPixels x:x y:y w:r.w-x-18*2 palette:[_textPalette UTF8String]];

            id str = [_buffers nth:i];
            if (!str) {
                str = @"";
            }
            if (_hidden) {
                str = [[[str mutableCopy] autorelease] destructiveReplaceCharactersNotInString:@"" withChar:'*'];
            }

            if (_currentField == i) {
                id left = [str stringToIndex:_cursorPos];
                id right = [str stringFromIndex:_cursorPos];
                if ([left length]) {
                    [bitmap drawBitmapText:left x:x+4 y:y+6 palette:_textPalette];
                    x += [bitmap bitmapWidthForText:left]+2;
                }
                if (_cursorBlink) {
/*
                    [bitmap setColor:@"black"];
                    [bitmap drawVerticalLineAtX:x-1+4 y:y+3 y:y+12+6];
*/
                    [bitmap drawCString:textFieldCursorPixels palette:[_textPalette UTF8String] x:x-1+4 y:y];
                }
                if ([right length]) {
                    [bitmap drawBitmapText:right x:x+4 y:y+6 palette:_textPalette];
                }
            } else {
                [bitmap drawBitmapText:str x:x+4 y:y+6 palette:_textPalette];
            }

            y += 27;
        }
    }

    //

    [bitmap fillRectangleAtX:r.x y:r.y w:r.w h:topH];
    {
        int frame = _iteration / 10;
        frame = frame % 4;
        unsigned char *pixels;
        unsigned char *palette;
        if (frame == 0) {
            palette = zeroWingPalette1;
            pixels = zeroWingPixels1;
        } else if (frame == 1) {
            palette = zeroWingPalette2;
            pixels = zeroWingPixels2;
        } else if (frame == 2) {
            palette = zeroWingPalette1;
            pixels = zeroWingPixels1;
        } else if (frame == 3) {
            palette = zeroWingPalette3;
            pixels = zeroWingPixels3;
        }
        [bitmap drawCString:pixels palette:palette x:/*28*/(r.w-zeroWingWidth)/2 y:28];
    }

    // ok button

    [bitmap fillRectangleAtX:r.x y:r.y+r.h-bottomH w:r.w h:bottomH];

    if (_okText) {
        _okRect = [Definitions rectWithX:r.w-88 y:r.h-21-28 w:70 h:28];
        Int4 innerRect = _okRect;
        innerRect.y += 1;

        BOOL okButtonDown = NO;        
        if ((_buttonDown == 'o') && (_buttonHover == 'o')) {
            okButtonDown = YES;
        } else if (_returnKeyDown) {
            okButtonDown = YES;
        }
        if (okButtonDown) {
            unsigned char *left = [_defaultButtonLeftPixels UTF8String];
            unsigned char *middle = [_defaultButtonMiddlePixels UTF8String];
            unsigned char *right = [_defaultButtonRightPixels UTF8String];
            unsigned char *palette = [_defaultButtonDownPalette UTF8String];
            [Definitions drawInBitmap:bitmap left:left middle:middle right:right centeredInRect:_okRect palette:palette];
            [bitmap drawBitmapText:_okText centeredInRect:innerRect palette:_textBlackPalette];
        } else {
            unsigned char *left = [_defaultButtonLeftPixels UTF8String];
            unsigned char *middle = [_defaultButtonMiddlePixels UTF8String];
            unsigned char *right = [_defaultButtonRightPixels UTF8String];
            unsigned char *palette = [_defaultButtonPalette UTF8String];
            [Definitions drawInBitmap:bitmap left:left middle:middle right:right centeredInRect:_okRect palette:palette];
            [bitmap drawBitmapText:_okText centeredInRect:innerRect palette:_textPalette];
        }
    } else {
        _okRect.x = 0;
        _okRect.y = 0;
        _okRect.w = 0;
        _okRect.h = 0;
    }

    // cancel button

    if (_cancelText) {
        _cancelRect = [Definitions rectWithX:_okRect.x-70-35 y:r.h-21-28 w:70 h:28];

        if ((_buttonDown == 'c') && (_buttonHover == 'c')) {
            unsigned char *left = [_defaultButtonLeftPixels UTF8String];
            unsigned char *middle = [_defaultButtonMiddlePixels UTF8String];
            unsigned char *right = [_defaultButtonRightPixels UTF8String];
            unsigned char *palette = [_buttonDownPalette UTF8String];
            [Definitions drawInBitmap:bitmap left:left middle:middle right:right centeredInRect:_cancelRect palette:palette];
            [bitmap drawBitmapText:_cancelText centeredInRect:_cancelRect palette:_textBlackPalette];
        } else {
            unsigned char *left = [_defaultButtonLeftPixels UTF8String];
            unsigned char *middle = [_defaultButtonMiddlePixels UTF8String];
            unsigned char *right = [_defaultButtonRightPixels UTF8String];
            unsigned char *palette = [_textPalette UTF8String];
            [Definitions drawInBitmap:bitmap left:left middle:middle right:right centeredInRect:_cancelRect palette:palette];
            [bitmap drawBitmapText:_cancelText centeredInRect:_cancelRect palette:_textPalette];
        }
    } else {
        _cancelRect.x = 0;
        _cancelRect.y = 0;
        _cancelRect.w = 0;
        _cancelRect.h = 0;
    }
}

- (void)handleKeyDown:(id)event
{
    if (!_buffers) {
        id arr = nsarr();
        for (int i=0; i<[_fields count]; i++) {
            id elt = [_fields nth:i];
            [arr addObject:@""];
        }
        [self setValue:arr forKey:@"buffers"];
    }
    id buf = [_buffers nth:_currentField];
    id str = [event valueForKey:@"keyString"];
    if ([str isEqual:@"space"]) {
        str = @" ";
    }
    if ([str length] == 1) {
        if (![buf length]) {
            [_buffers replaceObjectAtIndex:_currentField withObject:str];
            _cursorPos = 1;
            _cursorBlink = 1;
        } else {
            id left = [buf stringToIndex:_cursorPos];
            id right = [buf stringFromIndex:_cursorPos];
            id newBuf = nsfmt(@"%@%@%@", left, str, right);
            [_buffers replaceObjectAtIndex:_currentField withObject:newBuf];
            _cursorPos++;
            _cursorBlink = 1;
        }
    } else if ([str isEqual:@"left"]) {
        if (_cursorPos - 1 >= 0) {
            _cursorPos--;
        }
        _cursorBlink = 1;
    } else if ([str isEqual:@"right"]) {
        if (_cursorPos + 1 <= [buf length]) {
            _cursorPos++;
        }
        _cursorBlink = 1;
    } else if ([str isEqual:@"backspace"]) {
        if (_cursorPos >= 1) {
            id left = (_cursorPos > 1) ? [buf stringToIndex:_cursorPos-1] : @"";
            id right = [buf stringFromIndex:_cursorPos];
            id newBuf = nsfmt(@"%@%@", left, right);
            [_buffers replaceObjectAtIndex:_currentField withObject:newBuf];
            _cursorPos--;
        }
        _cursorBlink = 1;
    } else if ([str isEqual:@"return"]) {
        _returnKeyDown = YES;
    } else if ([str isEqual:@"tab"]) {
        if ([_fields count] > 1) {
            _currentField++;
            if (_currentField >= [_fields count]) {
                _currentField = 0;
            }
            _cursorPos = [[_buffers nth:_currentField] length];
            _cursorBlink = 2;
        }
    } else if ([str isEqual:@"shifttab"]) {
        if ([_fields count] > 1) {
            _currentField--;
            if (_currentField < 0) {
                _currentField = [_fields count]-1;
            }
            _cursorPos = [[_buffers nth:_currentField] length];
            _cursorBlink = 2;
        }
    }
}
- (void)handleKeyUp:(id)event
{
    id str = [event valueForKey:@"keyString"];
    if ([str isEqual:@"return"]) {
        if (_returnKeyDown) {
            if (_dialogMode) {
                [self exitWithDialogMode];
            }
            id x11Dict = [event valueForKey:@"x11dict"];
            [x11Dict setValue:@"1" forKey:@"shouldCloseWindow"];
            _returnKeyDown = NO;
        }
    }
}
- (void)handleMouseDown:(id)event
{
    {
        id x11dict = [event valueForKey:@"x11dict"];
        unsigned long win = [[x11dict valueForKey:@"window"] unsignedLongValue];
        id windowManager = [@"windowManager" valueForKey];
        [windowManager XRaiseWindow:win];
    }

    int mouseX = [event intValueForKey:@"mouseX"];
    int mouseY = [event intValueForKey:@"mouseY"];
    if (_okText && [Definitions isX:mouseX y:mouseY insideRect:_okRect]) {
        _buttonDown = 'o';
        _buttonHover = 'o';
    } else if (_cancelText && [Definitions isX:mouseX y:mouseY insideRect:_cancelRect]) {
        _buttonDown = 'c';
        _buttonHover = 'c';
    } else {
        _buttonDown = 'b';
        _buttonHover = 0;
        _buttonDownX = mouseX;
        _buttonDownY = mouseY;
    }
}
- (void)handleMouseMoved:(id)event
{
    if (_buttonDown == 'b') {
        int mouseRootX = [event intValueForKey:@"mouseRootX"];
        int mouseRootY = [event intValueForKey:@"mouseRootY"];

        id dict = [event valueForKey:@"x11dict"];

        int newX = mouseRootX - _buttonDownX;
        int newY = mouseRootY - _buttonDownY;

        [dict setValue:nsfmt(@"%d", newX) forKey:@"x"];
        [dict setValue:nsfmt(@"%d", newY) forKey:@"y"];

        [dict setValue:nsfmt(@"%d %d", newX, newY) forKey:@"moveWindow"];
        return;
    }

    int mouseX = [event intValueForKey:@"mouseX"];
    int mouseY = [event intValueForKey:@"mouseY"];
    if (_okText && [Definitions isX:mouseX y:mouseY insideRect:_okRect]) {
        _buttonHover = 'o';
    } else if (_cancelText && [Definitions isX:mouseX y:mouseY insideRect:_cancelRect]) {
        _buttonHover = 'c';
    } else {
        _buttonHover = 0;
    }
}
- (void)handleMouseUp:(id)event
{
    if (_buttonDown == _buttonHover) {
        if (_buttonDown == 'o') {
            if (_dialogMode) {
                [self exitWithDialogMode];
            }
            id x11dict = [event valueForKey:@"x11dict"];
            [x11dict setValue:@"1" forKey:@"shouldCloseWindow"];
        } else if (_buttonDown == 'c') {
            if (_dialogMode) {
                exit(1);
            }
            id x11dict = [event valueForKey:@"x11dict"];
            [x11dict setValue:@"1" forKey:@"shouldCloseWindow"];
        }
    }
    _buttonDown = 0;
    _buttonHover = 0;
}
- (void)exitWithDialogMode
{
    for (int i=0; i<[_fields count]; i++) {
        id readonly = [_readonly nth:i];
        if (![readonly intValue]) {
            id field = [_fields nth:i];
            id buffer = [_buffers nth:i];
            if (_dialogMode == 1) {
                NSOut(@"%@\n", buffer);
            } else {
                NSErr(@"%@\n", buffer);
            }
        }
    }
    exit(0);
}
@end

